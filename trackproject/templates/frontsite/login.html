{% extends 'projectsite/base.html' %}
{% load static %}
{% load bootstrap5 %}
{% bootstrap_css %}
{% bootstrap_javascript %}

{% block title %}Login - Leaf Construction{% endblock %}

{% block content %}
<style>
    body {
        background-image: url('images/bg1.jpg');
        background: linear-gradient(90deg);
        background-size: 100% 100%;
        animation: gradientShift 15s infinite;
        background-position:fixed ;
    }
</style>

<div class="container-fluid create fs-5  table-responsive d-flex justify-content-center align-items-center bg-info" style="margin-left:30em;width: 500px; margin-top: 11em; background-size: cover;border-radius :10%;padding: 30px;
    opacity: 0.7;">

    <div class="row p-3">
        <!-- Brand Heading -->
        <h1 class="pb-3 text-center" style="color: rgb(165, 42, 106);">Leaf Construction</h1>
        
        <!-- Display Django Messages -->

        {% for message in messages %}
        {% if message %}
            <div class="alert alert-{{ message.tags }}">
                {{ message }}
            </div>
        {% endif %}
        {% endfor %}

        <!-- Login Form -->
        <form method="POST" action="{% url 'login' %} " autocomplete="off">
            {% csrf_token %}
            <!-- Username Field -->
            <div class="form-group row mb-3">
                <label for="username" class="col-sm-3 col-form-label mt-1" >Username:</label>
                <div class="col-sm-9">
                    <input type="text" style="display: none;">
                    <input 
                        type="text" 
                        name="username" 
                        id="username" 
                        placeholder="Enter your username" 
                        class="form-control" 
                        required
                    >
                </div>
            </div>
            
            <!-- Password Field -->
            <div class="form-group row mb-3 popup"  >
                <label for="email" class="col-sm-3 col-form-label">Password:</label>
                <div class="col-sm-9">
                    <input type="password" style="display: none;">
                    <input 
                        type="password" 
                        name="password" 
                        id="password" 
                        placeholder="Enter your password" 
                        class="form-control"
                        required
                    >
                </div>
            </div>

            <!-- Submit Button -->
            <div >
                
                <div class="form-group text-center">
                    <!-- Reset Button -->
                    <button type="submit"  style="background-color:black;color:aliceblue;padding-left: 20px;padding-right:3%;border-radius: 9px;" class="login">Login</button>
                             
                    
                    <p class="mt-3">
                        <a href= "#" class="forgot-password-link"></a>
                    </p>
                
                    <p class="text-center mt-3">
                        Don't have an account? <a href="{% url 'register' %}">Register</a>
                    </p>
                </div>
                </div>
            </div>
        </form>

        <!-- Register Link -->
       
    </div>
</div>

<!-- jQuery Script to Auto-Hide Messages -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script>
    
    $(document).ready(function () {
        // Hides the message after 5 seconds (5000ms)
            $('.alert').hide(10000);
        });
   
    document.addEventListener("DOMContentLoaded", function() {
        document.getElementById('username').value = '';
        document.getElementById('password').value = '';
    });
    document.getElementById('password').addEventListener('focus', function () {
        this.setAttribute('autocomplete', 'off');
        this.value = ''; // Clear the autofilled value, if any
    });
    function resetForm() {
        // Clear input fields
        document.getElementById('username').value = '';
        document.getElementById('password').value = '';
    }

</script>
{% endblock %}
